# IF语句嵌套

---

## if语句嵌套

- **if 语句嵌套**：对于条件成立或者不成立的情况下需要执行的语句里，再嵌入if语句表示新的分支。

  Tips：很多时候分支的情况会非常的复杂：当某个条件成立或者不成立时，还需要考虑另一个条件是否成立，根据另一个条件的成立与否再进行分支。这时候，就需要用到if语句的嵌套。

- **用法**：

  - 对于最外层的分支，每个分支需要执行的语句都可以再嵌入分支
  - 嵌入的这个分支可以以**任何形式**出现，可以是`if`，可以是`if ... else`，也可以是`if ... else if`
  - 举例：假设在**条件1**成立时，我们要通过**条件2**再进行分支，就可以这样写：

```cpp
if (成立条件表达式1) {
    if (成立条件表达式2) {
        当条件1和2都成立时需要执行的语句
    }
} else {
    当条件1不成立时需要执行的语句
}
```

- 注意点1：如果省略大括号，`else`默认会匹配到最近的那一个`if`
  - 举例：如果不加上大括号的话，下面程序会把最后的`else`和第二个`if`匹配起来，表达的就不是我们之前说的意思了。

```cpp
if (成立条件表达式1) 
    if (成立条件表达式2) {
        当条件1和2都成立时需要执行的语句
    }
else {
    当条件1不成立时需要执行的语句
}
```

- 注意点2：if语句的嵌套会出现很多的大括号和缩进，大家想想如果有4层以上的嵌套会是什么样的情景？所以为了代码的可读性，尽量**避免非必要的多重if语句嵌套**。





### 代码：网吧老板的新需求

**举例**：

 网吧老板之前让小键帮忙写了一段程序，根据别人输入的年龄判断是否可以进入网吧。

 如果顾客的年龄大于等于18岁，就输出“允许进入”；否则输出“禁止进入”。

 现在网吧新增加了VIP区域，位于网吧的左边。对于允许进入网吧的人，如果历史消费大于200元，则可以进门左转进入VIP区域。

 网吧老板想请小键再帮忙，对于允许进入网吧的VIP都再输出“进门左转”提示语。

```c++
// 首先读入年龄，以及历史账单的信息
int age; 
cin >> age; 

double bill;
cin >> bill;

// 我们可以先写上最外层的结构，如果成年允许进入，否则禁止进入。
if (age >= 18) {
    cout <<  "允许进入" << endl;
    // 在允许进入的分支下，我们还要再考虑是否是vip
    // 是的话让他进门左转
    // 所以需要嵌入一个新的if语句
    if (bill > 200) 
        cout  << "进门左转" << endl;
}
else {
    cout <<  "禁止进入" << endl; 
}
```

请补充右侧代码中的`____`部分，满足网吧老板的新需求。

```cpp
#include <iostream>
using namespace std;

int main() {
    int age; 
    cin >> age; 

    double bill;
    cin >> bill;

    if (age >= 18) {
        // TODO 输出“允许进入”，并对VIP输出“进门左转”
        cout << "允许进入" << endl;
        if (bill > 200) {
            cout << "进门左转" << endl;
        }
    }
    else {
        // TODO 输出“禁止进入”
        cout << "禁止进入" << endl;
    }
    return 0;
}
```





## 总结

**if 语句嵌套**指的是在分支内部嵌入if语句表示新的分支。

- 对于最外层的分支，每个分支需要执行的语句都可以再嵌入分支
- 嵌入的这个分支可以以**任何形式**出现，可以是`if`，可以是`if ... else`，也可以是`if ... else if`

举个例子，假设在**条件1**成立时，我们要通过**条件2**再进行分支，就可以这样写：

```
if (成立条件表达式1) {
    if (成立条件表达式2) {
        当条件1和2都成立时需要执行的语句
    }
} else {
    当条件1不成立时需要执行的语句
}
```

对于if语句嵌套，我们需要注意，如果没有大括号，那么`else`默认会**匹配到最近**的那一个`if`。

另外，为了代码的可读性，我们尽量去**避免非必要的多重if语句嵌套**。

**举例**：

网吧老板根据别人输入的年龄判断是否可以进入网吧：如果顾客的年龄大于等于18岁，就输出“允许进入”；否则输出“禁止进入”。

对于允许进入网吧的人，如果历史消费大于200元，再输出“进门左转”提示语，进入VIP区域。

```c++
// 首先读入年龄，以及历史账单的信息
int age; 
cin >> age; 

double bill;
cin >> bill;

// 我们可以先写上最外层的结构，如果成年允许进入，否则禁止进入。
if (age >= 18) {
    cout <<  "允许进入" << endl;
    // 在允许进入的分支下，我们还要再考虑是否是vip
    // 是的话让他进门左转
    // 所以需要嵌入一个新的if语句
    if (bill > 200) 
        cout  << "进门左转" << endl;
}
else {
    cout <<  "禁止进入" << endl; 
}
```





## 练习

### 判断闰年

输入一个年份，判断其是否为闰年

输入描述：

一行，一个整数表示年份

输出描述：

若是闰年则输出"yes"，反之则输出"no"

示例 1：
输入：
2021
输出：
no

```

```



### 三角形判断

输入三角形的三边长，判断是什么三角形？

输入描述：

一行，三个正整数。

输出描述：

一行，一个字符串，直角三角形输出"right"，等腰三角形输出"isosceles"，等边三角形输出"equilateral"，没有特殊形状输出"normal"，若无法组成三角形则输出"no"

示例 1：

输入：

```
2 3 4
```

输出：

```
normal
```



```cpp
#include <bits/stdc++.h>
using namespace std; 

int main() {
    // 请补全代码，实现题目功能
    int a, b, c, t;
    cin >> a >> b >> c;
    if (a > b) {
        t = a;
        a = b;
        b = t;
    }
    if (b > c) {
        t = b;
        b = c;
        c = t;
    }
    if (a > b) {
        t = a;
        a = b;
        b = t;
    }
    
    if (a + b <= c) 
        cout << "no";
    else if (a * a + b * b == c * c) 
        cout << "right";
    else if (a == b || b == c) {
        if (a== b && b == c)
            cout << "equilateral";
        else
            cout << "isosceles";
    }
    else 
        cout << "normal";
    return 0;
}
```

