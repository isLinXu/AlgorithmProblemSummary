# 变量

---

## 影院售卖机

电影院的可乐5元一瓶，爆米花10元一份。

有一个简易版的零食售卖机，它的功能是：当给定爆米花和可乐的数量时，可以自动显示出一共需要支付多少钱。

举例：

> 小键需要1瓶可乐，1个爆米花，零食售卖机经过计算之后，将会显示：需要支付15元；
>
> 小戴需要2瓶可乐，3个爆米花，零食售卖机经过计算之后，将会显示：需要支付40元。

这一个单元我们将学习**变量**，迈出设计程序实现零食售卖机的功能的第一步。

![img](https://staticcdn.boyuai.com/user-assets/34/tpnBBtVKCs9eEjNVEDnqCz/A02-1-p-1.png!png)

## 计算机的内存

当计算机帮助零食售卖机进行计算时，每次的可乐数量和爆米花数量都是不确定的，最后的总价也会各异。那么，计算机如何维护这些会**随着程序运算而改变的量**呢？

这就涉及到计算机上另一种特别重要的功能：**存储功能**。

- 计算机的存储功能依赖下图中**内存**。
- 内存是计算机用来**记忆**、**存储**信息的硬件。

所以零食售卖机用到的可乐数量、爆米花数量以及总价，都存储在计算机的内存中。

![img](https://staticcdn.boyuai.com/user-assets/396/KEzFWTsMnXgPpJWXKEcSKC/%E5%86%85%E5%AD%98%E6%9D%A1.png!png)

- 计算机中的操作**系统**一般会把**内存划分**成不同区域来使用，以便于管理。
- 可以将**内存**想象成一个充满**盒子的仓库**，其中的不同大小的盒子包含了不同数量的基本存储单元，每个盒子里面储存的是计算机计算时需要用到的数据。

![img](https://staticcdn.boyuai.com/user-assets/396/jgH72P2yNcTh4cLa6WPRer/67917499.jpg!jpg)

- 内存中每个

  基本存储单元

  可以存放

  一个字节

  的数据

  - 每个字节具有8个比特（bit）

- 每个内存单元有一个唯一的

  地址

  ，常用一个

  16进制数

  表示和区分

  - 例如：0x10302430984a



## 变量的声明

计算机是一种按部就班的机器，在进行运算之前，我们需要先向内存申请一下存放数据的盒子。在计算机术语中，这些盒子被称为**变量**。

- **变量**是专门用来**存储数据**的容器，会根据数据类型决定容量大小。
  - 比如可乐与爆米花的数量需要使用变量来记录，支付总额也需要一个变量来表示。
  - 这些变量都是整数类型，所以容量为一个整数的大小。
- **变量**对应着**内存**中的一个**地址**，用于计算时数据的存储和读取 。
  - 比如修改可乐与爆米花的数量时，我们需要在内存中找到对应的变量，并改变其中的数据

- 变量的**声明**就是向内存申请“盒子”的过程。一般的声明方式为 **`数据类型 变量名称`**。

举例：展示三条变量声明的语句的程序段

```c++
// 声明可乐数量变量 coke
int coke;
// 声明爆米花数量变量 popcorn
int popcorn;
// 声明消费总额变量 money
int money;
```

- 代码中的 **`int`**（integer）用来明确变量的**数据类型**
  - **`int`** 型数据的变量可以用来存储**整数**，如：`1`、`23`、`-1`等没有小数部分的数值
  - **`int`** 型数据占有4个字节内存，不同类型的数据表示范围不同，占用的内存空间不尽相同
  - 关于数据类型的详细内容，我们将在之后的内容中展开讲解
- 代码中的 `coke`、`popcorn` 是用来区分不同变量的**变量名称**
  - 每个变量名对应一个确定的内存地址，用于对应数据的存储
  - 如下图所示，我们申请了名为`coke`、`popcorn`和`money`的三个变量，用于存放可乐的数量、爆米花的数量以及支付总额。

![img](https://staticcdn.boyuai.com/user-assets/34/x9yM3Dbn38Hk7a1wBdXD4k/A02-1-p-3.png!png)

请你补充右侧代码区的`____`部分，在主函数里完成对变量`coke`、`popcorn`和`money`的声明。

```cpp
// 导入系统输入输出头文件 iostream
#include <iostream>
// 使用标准命名空间 std
using namespace std;

int main() {
    // TODO 声明可乐数量变量 coke
    int coke;
    // TODO 声明爆米花数量变量 popcorn
    int popcorn;
    // TODO 声明消费总额变量 money
    int money;
    
    return 0;
}
```



## 变量命名规则

- 在C++中，

  变量名称

  也叫做

  标识符

  ，表示⽤来标记和识别不同变量的不同的符号，有固定的

  构造规则

  ：  

  - 只能由

    字⺟

    、

    数字

    和

    下划线

    组成；特别的；在C++中，标识符中的英文字母是区分大小写的；

    - 例如：`sweet_popcorn`合法，但是`zero&coke`使用了符号`&`，因此不合法。
      

  - 数字不可以出现在第一个位置上；

    - 例如：`coke330`合法，但是`330coke`以数字作为开头，因此不合法。
      

  - 在C++中，标识符中的英文字母是区分大小写的；

    - 例如：`coke330`和`Coke330`表示的是完全不同的变量名称，即表示不同的标识符。
      

  - C++的关键字（保留字）不可以⽤做标识符；

    - 例如：`pout`合法，但是`cout`是C++的关键字，不可以用作标识符，因此不合法  Tips： 无需背诵所有关键字

  - 常见的关键字有`cout`、`int`或`include`等具有特殊含义的字符
  - 完整的表格见[参考资料](https://docs.microsoft.com/zh-cn/cpp/cpp/keywords-cpp?view=msvc-160#standard-c-keywords)。
  - 正如本节内容中使用的`coke`、`popcorn`和`money`一样，实际编程过程中变量的名字最好简单易懂，用具有对应含义的英文或者拼音来表示；
    - 这样有利于别的开发者快速了解变量含义，并且看懂代码一起协作
    - 并且当你一段时间后再看代码中的变量，可以很快知道是用来存储的是什么



## 变量的初始化

- **变量的初始化** 即赋予变量一个初始值。

Tips： 我们来看一下`money`这个变量，与变量`coke`和`popcorn`不同，总价（money）这个变量可以明确一个初始数值：`0`。所以，我们在定义这个变量同时，可以为它赋予一个初始值，即初始化变量`money`。

```c++
// 声明消费总额变量 money，并且初始化数值为 0
int money = 0;
```

- 代码中的符号`"="`是赋值运算符
  - 操作是将符号`"="`**右边**的数值存放**到** **左边** 的变量中
  - 关于运算符，我们将在之后的课程中详细展开讲解
- 变量在**初始化**时应该根据**数据类型**进行赋值，否则将会发生错误.
  - 例如：不能把小数赋值给一个整数类型的变量 `int a = 3.14 ;`是错误的。
- 未进行初始化的变量具有不确定的数值，直接进行计算将会发生错误
  - 例如：没有初始化`sum`值，就进行相加计算。 `sum = sum + 1;` 是不能够被执行的。

请你补充右侧代码区的`____`部分，在主函数里完成对变量`money`的声明，并初始化为0。

```cpp
// 导入系统输入输出头文件 iostream
#include <iostream>
// 使用标准命名空间 std
using namespace std;

int main() {
    // TODO 声明消费总额变量 money，并且初始化数值为 0
    int money = 0;
        
    return 0;
}
```



## 变量的输出

**输出**即在屏幕上输出展示信息内容。

Tips： 最后使用C++代码来在屏幕上展示消费总额，这就是变量的**输出**。

```c++
//将初始化好的消费总额打印在屏幕上，并且进行换行
cout << money << endl;
```

- 输出变量的时候，我们可以注意以下几点
  - 变量`money`与`"Hello, World!"`一样，也可以作为输出内容
  - 输出的内容是变量中保存的**数值**，而不是变量名称

请你补充右侧代码区的`____`部分，输出变量`money`并换行，观察输出结果。

```cpp
// 导入系统输入输出头文件 iostream
#include <iostream>
// 使用标准命名空间 std
using namespace std;

int main() {
    // 定义消费总额变量 money，并且初始化数值为 0
    int money = 0;
    // TODO 将初始化好的消费总额打印在屏幕上，并且进行换行
    cout << money << endl;
    return 0;
}
```



## 总结

### 计算机的内存

变量指的是会随着程序运算而改变的量。
Tips： 比如用户在售卖机购买的可乐数量和爆米花数量都是不确定的，最后的总价也会各异，所以这些数量和总价都以变量的形式存在于计算机中。维护这些变量会用到计算机的存储功能。

- 计算机的存储功能会使用内存实现。
- 计算机中的操作系统一般会把内存划分成不同区域来存储数据，以便于管理。
- 内存中每个基本存储单元可以存放一个字节的数据，每个字节具有8位，也就是8个比特（bit）。
- 每个内存单元有一个唯一的地址，常用一个16进制数表示和区分。

### 变量的声明

变量的声明就是向内存申请变量，用于存放数据的过程，一般的声明方式为数据类型 变量名称。

```cpp
  // 声明可乐数量变量 coke
  int coke;
  // 声明爆米花数量变量 popcorn
  int popcorn;
  // 声明消费总额变量 money
  int money;
```

  



### 变量的命名规则

变量名称也叫做标识符，有固定的构造规则：

  变量的命名规则
  变量名称也叫做标识符，有固定的构造规则：

- 只能由字⺟、数字和下划线组成；
- 数字不可以出现在第一个位置上；
- C++的关键字（保留字）不可以⽤做标识符；
- 最好简单易懂，用具有对应含义的英文或者拼音来表示；

### 变量的初始化

在声明变量时，也可以赋予这个变量一个初值，这被称为变量的初始化。

```cpp
// 声明消费总额变量 money，并且初始化数值为 0
int money = 0;
```



### 变量的输出

使用C++代码来在屏幕上展示初始化过的的消费总额，这叫做变量的输出，输出的内容是变量中保存的数值，而不是变量名称。

```cpp
//将初始化好的消费总额打印在屏幕上，并且进行换行
cout << money << endl;
```



