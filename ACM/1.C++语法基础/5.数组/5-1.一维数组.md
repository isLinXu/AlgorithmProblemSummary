# 一维数组

---

## 什么是数组

- C++使用

  数组

  来实现一次性声明很多变量的功能，具有以下特性：

  - 创建后的数组**大小固定**
  - 同一数组中的**元素类型相同**
  - 是一系列数据**顺序集合**

在计算中，要存储数据就需要用到变量；但在处理大量的数据时，太多的变量就不大好处理了。

举例：在下面这些情况下，需要申请很多的变量：

- 小六想要统计近6个月里，店里某一件商品的累计销量
- 学校拜托小键，帮忙存储全校500名学生的考试成绩

对于半年的累计销量，小六可以按照`int sales1, sales2, sales3,…`初始化6个变量来存储；

但是对于500个学生的考试成绩，小键不需要对500个变量一一进行初始化，而可以借用数组进行这一系列变量的管理。

Tips：如果把变量比做一个小盒子，每个盒子里装一个数据。那么，数组就像是一整排的盒子，它可以装大量的数据。

在本节内容中，我们将学习数组的基本使用，包括数组的**声明**、**访问元素**、**初始化**和**输入输出**，一起来看看吧。





## 数组怎么声明呢？

- 在C++中声明数组时，需要指定**元素类型**、**数组名称**以及**数组长度**：

```pseudocode
元素类型 数组名称[数组长度];
- 数组的元素类型只需指定一次，代表整个数组中所有元素的类型
- 数组长度代表数组容纳元素的数量，必须是一个**固定的整型常量**，不能是变量
```

举例：小六要声明一个数组，用来保存统计近6个月一件商品的累计销量：

声明数组的程序段

```c++
int sales[6];
```

- 通过这一个程序段，小六得到了：
  - 一个名字叫`sales`的数组
  - 这个数组包含6个元素
  - 数组每个元素都是`int`类型

Tips：在声明数组后，内存会为数组分配一块连续的空间。我们可以从内存的角度再来理解一下数组：数组中包含若干个元素，每个元素都是一个变量，因此每个元素都是有地址的，而**数组名**其实表示的就是**第一个元素的起始地址**。

请补充右侧代码区的`____`部分，声明存储产品6个月累计销量的数组，并直接输出数组名看看，你会观察到输出的就是内存中的一个地址。

```cpp
#include <iostream>
using namespace std;

int main() {
    // TODO 声明存储产品6个月累计销量的数组
    int sales[6];
    cout << sales << endl;
    
    return 0;
}
```





## 数组怎么访问元素呢？

- 声明一个数组之后，数组中的每个元素可以通过

  索引

  来访问

  - 数组的索引的范围是从 `0` 到 `数组长度-1`
  - 数组元素的访问形式是`数组名称[索引序号]`

举例：有了`int sales[6]`这个数组，小六想要获得并且操作某一个月的累计销量，该怎么访问呢？

- 要获得第1个月的累计销量，就需要访问数组的第1个元素，使用 `sales[0]`
- 要获得第6个月的累计销量，就数组的最后一个元素，使用 `sales[5]`

Tips：如果访问`sales[6]`，或者使用比6更大的索引，在`sales`中就会产生**数组越界**。

- C++数组越界时，程序一般不会产生运行错误，但是可能会导致其他后果，比如修改了无关变量的值。
- 访问数组元素后，我们可以像对待变量一样做任何操作，比如：
  - 输入这个元素: `cin >> sales[0];`, `scanf("%d", &sales[0]);`
  - 输出这个元素: `cout << sales[0];`, `printf("%d ", sales[0]);`
  - 对这个元素重新赋值: `sales[0] = 3;`
  - 把这个元素的值赋给另一个变量: `int a = sales[0];`
  - 对元素进行算数操作: `sales[0] += 3;`，这表示对`sales[0]`的元素的值加上3，再赋值给`sales[0]`这个元素

你可以补充右侧代码区的`____`部分，完成以下操作：

- 输入并输出第一和第二个月的累计销量
- 把第三个月的累计销量赋值为3
- 并把第三个月的累计销量赋值给变量`a`
- 把第一个月的累计销量加上3，并输出第一个月的累计销量



```cpp
#include <iostream>
using namespace std;

int main() {
    int sales[6];
    
    // TODO 输入第一和第二个月的累计销量
    cin >> sales[0];
    scanf("%d", &sales[1]);
    
    // TODO 输出第一和第二个月的累计销量
    cout << sales[0] << endl;
    printf("%d\n", sales[1]);
    
    // TODO 把第三个月的累计销量设置为 3
    sales[2] = 3;
    
    // TODO 访问第三个月的累计销量，并赋值给变量 a
    int a = sales[2];
    
    // TODO 把第一个月的累计销量加上3，并输出第一个月的累计销量
    sales[0] += 3;
    cout << sales[0] << endl;
    
    return 0;
}
```





数组怎么初始化呢？

- 在C++中，数组的初始化有如下两种方式：
  - 一种初是在声明的同时，使用大括号包含对应数值，直接对**整个数组初始化**
  - 另一种初始化方式是在声明之后，逐个访问数组元素进行**一一初始化赋值**

举例：小六店里的商品第一个月卖出1件，接下来每个月都卖出2件，那么每个月统计的累计销量应该是1、3、5、7、9、11。

- 选择直接**对整个数组初始化**时：
  - 如果大括号中给出的值的数量等于元素数量，会把这些值依次赋给所有元素
    - 比如 `int sales[6] = {1, 3, 5, 7, 9, 11}`
  - 如果大括号中给出少于元素数量，会把这些值赋给前面几个元素，后面的默认为0
    - 比如 `int sales[6] = {1, 3}`，那么可以得到6个元素分别为：1, 3, 0, 0, 0, 0 的数组
    - 如果想把数组全部初始化为0，可以写成 `int sales[6] = {0}`
  - 对整个数组初始化的时候，可以省略中括号中的数组长度，这样初始化的数组长度就是大括号中元素的数量
    - 比如 `int sales[] = {1, 3, 5, 7, 9, 11}` 会初始化一个长度为6的整型数组，与`int sales[6] = {1, 3, 5, 7, 9, 11}`是等价的。
- 选择**在声明之后**对数组中的元素**逐个进行初始化赋值**时：
  - 可以借助循环，按照索引的范围逐个赋值

逐个初始化数组元素的程序段

```c++
int sales[6];
for (int i = 0; i < 6; i++) {
    sales[i] = 2 * i + 1;
}
```

你可以补充右侧代码区的`____`部分，尝试完成一下这四种初始化的方法。



```cpp
#include <iostream>
using namespace std;

int main() {
    // TODO 声明时对整个数组初始化
    // TODO 第一种：大括号中包含 1，3，5，7，9，11这6个值
    int sales_1[6] = {1,3,5,7,9,11};
    
    // TODO 第二种：大括号中包含 1，3这2个值，其他默认初始化为0
    int sales_2[6] = {1,3};
    
    // TODO 第三种：大括号中包含 1，3，5，7，9，11这6个值，但是不指定数组的长度，会得到一个长度为6的数组
    int sales_3[] = {1,3,5,7,9,11};
    
    // TODO 声明后对每个元素依次赋值
    int sales_4[6];
    for (int i = 0; i < 6; i++) {
        sales_4[i] = i;;
    }
    
    return 0;
}
```





## 数组怎么输入输出呢？

- 在C++中，普通的一维数组只能对单个元素进行输入输出。

举例：输入输出数组中第一、二个月的累计销量：

一维数组输入输出的程序段

```c++
int sales[6] = {0};
cin >> sales[0];
scanf("%i", &sales[1]);

cout << sales_4[0];
printf("%i", sales[1]);
```





## 代码：小六统计商品每个月的累计销量

为了巩固数组的使用方法，我们来帮助小六完成一下统计某商品这一整年来（12个月）每个月累计销量的事情。

举例：小六第一个月的销量为1，接下来每个月的销量都是到前一个月为止的累计销量，也就是说：

- 第二个月的销量是第一个月的销量1，总累计销量是2
- 第三个月的销量是前二个月的累计销量2，总累计销量是4
- 第四个月的销量是前三个月的累计销量4，总累计销量是8
- 以此类推...

我们想要计算这一整年每个月的累计销量并输出。

计算整年每个月累计销量的代码段

```c++
// 给第一个月的销量赋初值，剩下的默认被初始化为0
int sales[12] = {1};

// 第一种写法，依次计算每个元素
sales[1] = 2 * sales[0]; // 第2个月的销量
sales[2] = 2 * sales[1]; // 第3个月的销量
// ...
sales[11] = 2 * sales[10]; // 第12个月的销量

// 第二种写法：用循环依次计算
for (int i = 1; i < 12; i ++)
    sales[i] = 2 * sales[i-1];

// 输出12个月的累计销量
for (int i = 0; i < 12; i ++)
    cout << sales[i] << " "; 
```

你可以补充右侧代码区的`____`部分，完成一年累计销量的统计。





```cpp
#include <iostream>
using namespace std;

int main() {
    // TODO 声明数组，并给第一个月的销量赋初值，剩下的默认被初始化为0
    int sales[12] = {1};
    
    // TODO 计算每个月的销量
    for (int i = 1; i < 12; i++)
        sales[i] = 2*sales[i-2];
    
    // TODO 输出12个月的累计销量
    for (int i = 0; i < 12; i ++)
        cout << sales[i] << " "; 
    return 0;
}
```





```cpp
#include <iostream>
using namespace std;

int main() {
    // 给第一个月的销量赋初值，剩下的默认被初始化为0
    int sales[12] = {1};

    // 用循环依次计算每个月的累计销量
    for (int i = 1; i < 12; i ++)
        sales[i] = 2 * sales[i-1];

    // 输出12个月的累计销量
    for (int i = 0; i < 12; i ++)
        cout << sales[i] << " "; 
    
    return 0;
}
```





## 练习

### 简单的插入

将一个给定的整数插到原本有序的整数序列中，使结果序列仍然有序。

输入描述：

输入在第一行先给出非负整数N（<1000）；第二行给出N个从小到大排好顺序的整数；第三行给出一个整数X。

输出描述：

在一行内输出将X插入后仍然从小到大有序的整数序列，每个数字后面有一个空格。

示例 1：

输入：

```
3
1 3 4
2
```

输出：

```
1 2 3 4
```





```cpp
#include<iostream>
int main(){
    int n, x, pos=0;
    int nums[1001];
    
    cin >> n;
    for (int i=0; i<n; i++)
        cin >> nums[i];
    cin >> x;
    
    for (int i=0; i<n; i++) {
        if (nums[i] > x) {
            pos = i;
            break;
        }
    }
    
    for (int i=n; i>pos; i--)
        nums[i] = nums[i-1];
        nums[pos] = x;
    
    for (int i=0; i<(n+1); i++)
        cout << nums[i] << " ";
    return 0;
}
	
```





### 查找整数

本题要求从输入的N个整数中查找给定的X。如果找到，输出X第一次出现的位置（从1开始计数）；如果没有找到，输出“Not Found”。

输入描述：

第一行一个正整数N（≤100），第二行给出N个整数。数字均不超过长整型，其间以空格分隔，第三行一个整数X

输出描述：

若找到则输出X的位置，否则输出“Not Found”。

示例 1：

输入：

```
5
1 4 2 3 5
3
```

输出：

```
4
```

示例 2：

输入：

```
5
1 2 3 4 5
6
```

输出：

```
Not Found
```





```

```





### 大小交换

给定一个长度为N的数列，先将输入的一系列整数中的最小值与第一个数交换，然后将最大值与最后一个数交换，最后输出交换后的序列。（保证最大和最小值都是唯一的。）

输入描述：

输入在第一行中给出一个正整数N（≤1000），第二行给出N个整数，数字间以空格分隔。

输出描述：

在一行中顺序输出交换后的序列，每个整数后跟一个空格。

示例 1：

输入：

```
5
8 2 5 1 4
```

输出：

```
1 2 5 4 8
```





```cpp
#include <bits/stdc++.h>
using namespace std; 

int main() {
    // 请补全代码，实现题目功能
    int n, max_num, max_idx, min_num, min_idx;
    int nums[1001];
    
    cin >> n;
    for (int i=0; i<n; i++)
        cin >> nums[i];
    
    // 最小值和数组第一位交换
    min_num = nums[0];
    min_idx = 0;
    for (int i=1; i<n; i++) {
        if (nums[i] < min_num) {
            min_num = nums[i];
            min_idx = i;
        }
    }
    nums[min_idx] = nums[0];
    nums[0] = min_num;
    
    // 最大值和数组最后一位交换
    max_num = nums[0];
    max_idx = 0;
    for (int i=1; i<n; i++) {
        if (nums[i] > max_num) {
            max_num = nums[i];
            max_idx = i;
        }
    }
    nums[max_idx] = nums[n-1];
    nums[n-1] = max_num;
    
    for (int i=0; i<n; i++)
        cout << nums[i] << " ";
    return 0;
}

```





### 反向输出

给定按照顺序的n个数字，将他们按照输入的顺序，倒序输出。1 <= n <= 100

输入描述：

第一行一个整数n

接下来一行，n个整数，用空格间隔

输出描述：

一行，n个整数，每个数字之间用空格分开

示例 1：

输入：

```
3
2 1 3
```

输出：

```
3 1 2
```





```cpp
#include <bits/stdc++.h>
using namespace std; 

int main() {
    // 请补全代码，实现题目功能
    int n;
    int nums[101];
    
    cin >> n;
    
    for (int i=0; i<n; i++)
        cin >> nums[i];
    
    for (int i=(n-1); i>=0; i--)
        cout << nums[i] << " ";
    return 0;
}
```





元素过滤

给定一个长度为N（N<=1000）的数列，去除序列中值为X的数字后，按照输入顺序输出。

输入描述：

第一行一个整数N，第二行N个整数，第三行一个整数X



输出描述：

一行，每个整数之间用一个空格隔开。



示例 1：

输入：

```
5
1 2 3 2 3
2
```

输出：

```
1 3 3
```





```cpp
#include <bits/stdc++.h>
using namespace std; 

int main() {
    // 请补全代码，实现题目功能
    int n, x;
    int nums[1001];
    
    cin >> n;
    
    for (int i=0; i<n; i++)
        cin >> nums[i];
    
    cin >> x;
    for (int i=0; i<n; i++)
        if (nums[i] != x)
            cout << nums[i] << " ";
    
    return 0;
}

```





### 大小交换

给定一个长度为N的数列，先将输入的一系列整数中的最小值与第一个数交换，然后将最大值与最后一个数交换，最后输出交换后的序列。（保证最大和最小值都是唯一的。）

输入描述：

输入在第一行中给出一个正整数N（≤1000），第二行给出N个整数，数字间以空格分隔。

输出描述：

在一行中顺序输出交换后的序列，每个整数后跟一个空格。

示例 1：

输入：

```
5
8 2 5 1 4
```

输出：

```
1 2 5 4 8
```





```cpp
#include <bits/stdc++.h>
using namespace std; 

int main() {
    // 请补全代码，实现题目功能
    int n, max_num, max_idx, min_num, min_idx;
    int nums[1001];
    
    cin >> n;
    for (int i=0; i<n; i++)
        cin >> nums[i];
    
    // 最小值和数组第一位交换
    min_num = nums[0];
    min_idx = 0;
    for (int i=1; i<n; i++) {
        if (nums[i] < min_num) {
            min_num = nums[i];
            min_idx = i;
        }
    }
    nums[min_idx] = nums[0];
    nums[0] = min_num;
    
    // 最大值和数组最后一位交换
    max_num = nums[0];
    max_idx = 0;
    for (int i=1; i<n; i++) {
        if (nums[i] > max_num) {
            max_num = nums[i];
            max_idx = i;
        }
    }
    nums[max_idx] = nums[n-1];
    nums[n-1] = max_num;
    
    for (int i=0; i<n; i++)
        cout << nums[i] << " ";
    return 0;
}

```



