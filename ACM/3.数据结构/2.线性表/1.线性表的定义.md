# 线性表的定义

---

## 知识点：线性表的定义

- 线性表的定义
  - 线性结构
    - 除了$A_0$和$A_{n-1}$*外，每个元素都有唯一的前趋和后继
    - 对于每个$A_i$，它的前驱是$A_{i-1}$,它的后继是$A_{i+1}$。
    - $A_0$只有后继没有前驱，$A_{n-1}$只有前驱没有后继。
  - 线性表：处理线性结构的数据结构
  - 线性表的操作
    - 创建
    - 清除
    - 求线性表的长度
    - 在第i个位置插入一个元素
    - 删除第i个位置的元素
    - 搜索某个元素在线性表中是否出现
    - 访问线性表的第i个元素
    - 遍历线性表运算
  - 线性表的抽象类



Q：线性表的抽象类中为什么一定要定义一个虚析构函数？
A：虚析构函数是为了解决父类指针指向子类对象时，释放子类对象的资源时，释放不完全，造成的内存泄漏问题。



## 顺序表

### 概念及类定义

- 顺序表
  - 线性表的顺序储存
  - 顺序表的存储实现
    - 数据成员
      - 表元素类型的指针
      - 数组规模
      - 数组中的元素个数
  - 顺序表类定义
    - 构造函数
    - search函数
    - traverse函数
    - insert(i,x)函数
    - doubleSpace函数
    - remove(i)函数
  - 总结
    - 由于要保持逻辑次序和物理次序的一致性，顺序表在插入删除时需要移动大量的数据，性能不太理想
    - 由于逻辑次序和物理次序的一致性使得定位访问的性能很好
    - 顺序表比较适合静态的、经常做线性访问的线性表



### 成员函数的实现



## 单链表

### 概念及类定义

- 单链表的概念：在单链表中，每个结点由数据元素和指针构成。该指针指向它的直接后继结点，最后一个结点的后继指针为空，即没有后继节点。
- 单链表类的设计：
  - 存储设计：需要定义一个结点类，单链表类的数据成员包括头指针和链表长度currentLength。
  - 工具函数设计：链表的插入、删除操作都需要将指针移到被操作结点的前一结点。通过设计函数move实现。





Q1：单链表节点中指针的作用是什么？为什么顺序表不需要指针？
A1：单链表节点中指针的作用是指向当前节点的后驱节点，如果指针为空说明无后驱。 顺序表中存储数据的物理地址是连续的，故无需指针便可查找到后驱节点。

Q2：在单链表中，头指针的作用？
A2：以确定线性表中第一个元素对应的存储位置。



### 单链表的操作

- Clear()：把单链表变成一个空表。注意需要把所有结点的空间还给系统。
- Insert(i,x)：在第i个位置插入元素x。先让指针指向第i-1个元素，之后执行插入过程，即申请一个存放x的结点，让该结点的后继指针指向结点i，让第i-1个结点的后继指针指向这个新结点。
- Move(i): 返回指向第i个元素的指针。
- Remove(i)：删除第i个位置的元素。先找到第i-1个结点，让该结点的后继指针指向第i+1个结点，释放被删结点空间。
  

- search(x)：搜索某个元素在线性表中是否出现。从头指针的后继结点开始往后检查链表的结点直到找到x或查找到表尾。
- visit(i)：访问线性表的第i个元素。通过move(i)找到第i个结点，返回该结点的数据部分
- traverse()：遍历运算。从头结点的直接后继开始重复：输出当前结点值，将后继结点设为当前结点，直到当前节点为空。



## 双链表

- 双链表概念：在连接实现中，如果每个结点既保存直接后继结点的地址，也保存直接前驱结点的地址，则该链表被称为双链表。
- 双链表类的设计：
  - 链表类的数据成员：头指针、尾指针，链表长度currentLength
  - 必须定义一个结点类。
  - 链表类必须实现线性表的所有操作，故链表类从线性表的抽象类继承。
  - 链表的插入、删除操作都需要将指针移到被操作结点的前一结点。通过设计函数move实现
  - 构造函数：创建一个双链表就是创建一个只有头尾结点的链表，其中头结点的前驱为空，尾结点的后继为空。
  - 插入：让指针指向第i个元素，执行插入过程，具体方式基本与单链表一致。
  - 删除：让指针指向第i个元素，执行删除过程，具体方式基本与单链表一致。



## 总结

#### 线性表的概念

- **线性表**是处理**线性结构**的数据结构。
- 线性结构的数据指的是：
  - 除了$A_0$和$A_{n-1}$外，每个元素都有唯一的前趋和后继
  - 对于每个$A_i$，它的前驱是$A_{i-1}$,它的后继是$A_{i+1}$
  - $A_0$只有后继没有前驱，$A_{n-1}$只有前驱没有后继。

#### 线性表的基本操作

- **创建**空的线性表
- **清除**所有元素
- 求线性表的**长度**
- 在第i个位置**插入**一个元素
- **删除**第i个位置的元素
- **搜索**某个元素在线性表中是否出现
- **访问**线性表的第i个元素
- **遍历**线性表

#### 线性表的抽象类

因此，我们可以这样定义线性表的抽象类，类中的每个函数都是纯虚函数，在实现数据结构时需要去完成每一个纯虚函数。

- 和线性表的操作相比，少了创建操作，因为这可以用每个类的构造函数来完成。
- 多了虚析构函数，是为了防止内存泄漏，把申请的动态内存析构掉。

```c++
template <class elemType>
class list {
  public: 
     // 清除
     virtual void clear() = 0;
     // 长度
     virtual int length() const = 0;
     // 插入
     virtual void insert(int i, const elemType &x) = 0; 
     // 删除
     virtual void remove(int i) = 0;
     // 搜索
     virtual int search(const elemType &x) const = 0;
     // 访问
     virtual elemType visit(int i) const = 0;
     // 遍历
     virtual void traverse() const = 0;
     // 析构
     virtual ~list() {};
};
```









