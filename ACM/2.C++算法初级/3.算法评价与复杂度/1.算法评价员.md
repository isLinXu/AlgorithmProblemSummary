# 算法评价员

---

## 引入

世界上大多数问题，都有很多种解法。比如一个人从上海到北京，可能有两种方式：**火车和飞机**。

![img](https://staticcdn.boyuai.com/user-assets/5085/Co8nuXV2wPe7xW5xHdVmqV/%E5%BC%95%E5%85%A5.png!png)

这两个选择的特点是：

**飞机**：价格**贵**，但**速度快**。

**火车**：价格**便宜**（假设不是高铁动车），但**速度慢**。

那么对于不同的情况，我们可以选择不同的方案。

但是如果只有这两种解决方案，我们却没有相应的资金和时间资源的话，从上海到北京这个问题对我们来说就是无解的。

| 方案                   | 选择       |
| ---------------------- | ---------- |
| 资金充足，但时间紧张。 | 飞机       |
| 资金紧张，但时间充裕。 | 火车       |
| 资金紧张，并且时间紧张 | 该问题无解 |

所以，在这个场景中，“从上海到北京”就是一个**问题**，而“坐飞机”和“坐火车”分别是两种解决该问题的**算法**。

不同解决方案的“价格”和“耗时”就是评价方案的两个**维度**。

根据这两个维度各个算法的优劣，以及拥有资源的限制，我们可以选择符合需求的算法，或者该问题不可解决。





## 计算机的资源

上文提到，之所以用“**价格**”和“**耗时**”两个维度来衡量交通工具的优劣，正是因为我们所关注的资源限制就是这两种。

计算机作为一个物理模型，它也有一些**资源限制**。

### 计算机关注维度

所以对于算法，主要关心的也有两个类似的维度：

> **时间**（就像上文交通工具例子中的“**耗时**”）
>
> **空间**（就像上文交通工具例子中的“**价格**”）。

### 时间限制

- 在现实场景中，一方面，**CPU的运算速度是有限制的**。

打开个人电脑的配置，可以看到CPU的**主频**。

Tips: 主频，表示CPU每秒钟产生脉冲信号的次数（也就是每秒钟的时钟周期个数）。

> 以2.1GHz为例，一秒钟该CPU可以产生$2.1\times10^9$次脉冲信号，如果一台计算机每个时钟周期可以完成1条指令，那么该计算机1s之内就可以运行$2.1\times 10^9$条指令。

- 另一方面，**等待问题结果的时间也是有限的**。

> 比如在战争时期，同一个国家前线和后方之间的情报交流，可能都会通过加密的方式进行传输。
>
> 但是众所周知，一条情报是有**时效性**的。
>
> 如果是一条关于未来的某条敌方可能发动某场战役的情报，等到该战役真正发生以后，该情报就失去了价值。
>
> 所以，如果一个密码攻击算法无法在信息有效时间内将密文破解的话，它就并不是一个可以解决我们问题的算法。

所以，衡量算法运行时间的一个重要指标是**时间复杂度**。

### 内存限制

**计算机内存的大小是有限制的**。

在学习C++的时候，大家可能了解过计算机在运行程序的时候，单个变量、数组甚至算法运行过程中，函数互相调用时所记录的**调用栈信息**，都是在**内存**上存储的。 

而计算机的**内存不可能无限大**，常见个人笔记本电脑的**内存**为8G，16G。甚至在有些单片机上，**内存**的大小只有几百Bytes。



所以，**内存**的大小就限制了我们所开变量的大小。比如一个二维数组`int a[5000][5000]`所耗内存为：



$5000 \times 5000 \times 4 \div 1024 \div 1024 \approx 95\text{ MB}$

这样的程序已经没办法在单片机上跑了。

所以，衡量算法内存消耗的一个重要指标是**空间复杂度**。





### 其他评价标准

#### 实现难度

通俗来讲，算法的**实现难度**就是该算法**是否能很容易地用编程语言准确表达**。

虽然这个并没有一个很具体的指标去衡量它，但是在日常开发中，也是一个很重要的考虑因素。

> 比如说一个工程项目由两部分组成，A算法和B算法，其中,A算法需要运行100s，B算法需要运行10s。
>
> 现在，B算法可以被替换成一个解决同样问题的B‘算法，该算法可以将运行时间降成5s，但是实现难度很高，并且很容易出错。
>
> 那么，我们可能并不倾向于将B算法替换成B'算法。
>
> 原因是该部分并不是整个工程的瓶颈，所以即便是替换了，整个工程的总运行时间也只是从110s降为105s，时间上并没有很大的区别，但是实现起来却比原来难很多。

可以看得出，实现难度是一个非常实际的评价因素。

**特殊场景下算法的衡量指标**

- **近似算法**中的**近似比**：

  在解决**最优化问题**的近似算法中，有一个“**近似比**”的评价指标。

  其大致背景是，很多**最优化问题**（即找到某种场景下最有利的解决方案的问题），找到精确最优解的算法可能要运行很长时间，或者根本不可能在可接受时间内运行完毕。但是如果不要求一定是严格的最优解决方案的话，我们可以设计一些近似算法在很少的时间内给出一个“**比较优**”的方案。所以，该近似算法给出的解，和严格最优解之间的差别，也就是**近似比**，就成了衡量近似算法的一个非常重要的指标。

- **机器学习模型算法**的评估指标：

  你也许知道，机器学习算法可以利用已有数据集作为输入，得到一个模型，从而实现一些**分类**或**预测**等任务。而为了评价所得模型的好坏，机器学习领域提出了一些评估指标，比如[**准确率**（Accuracy）](http://bookshadow.com/weblog/2014/06/10/precision-recall-f-measure/)，[**精确率**（Precision）](http://bookshadow.com/weblog/2014/06/10/precision-recall-f-measure/)，[**召回率**（Recall）](http://bookshadow.com/weblog/2014/06/10/precision-recall-f-measure/)等



## 总结

所以，总结一下，为什么需要评价算法呢？

- 是因为在现实生活中，计算资源，包括**CPU的计算速度**和**内存**的大小，是**有限**的，而我们的等待时间也是**有限**的。所以，我们需要用更快（或内存利用率更高）的算法来应对时间紧张（或者内存紧张）的开发场景。
- 另外，在一些更有针对性的场景（如机器学习场景），在算法开发中，可能有更具体的需求，所以就需要设计更具体的指标（例如机器学习中的**准确率**、**精确率**和**召回率**等）。



在现实生活中，计算资源，包括**CPU的计算速度**和**内存**的大小，是**有限**的，而我们的等待时间也是**有限**的。所以，我们需要用更快（或内存利用率更高）的算法来应对时间紧张（或者内存紧张）的开发场景。

- 时间限制：一方面，**CPU的运算速度是有限制的**；另一方面，**等待问题结果的时间也是有限的**。所以，衡量算法运行时间的一个重要指标是**时间复杂度**。

  > 例如，打开个人电脑的配置，可以看到cpu的**主频**。**主频**，表示CPU每秒钟产生脉冲信号的次数（也就是每秒钟的时钟周期个数）。
  >
  > 以2.1GHz为例，一秒钟该CPU可以产生2.1\times10^92.1×109次脉冲信号，如果一台计算机每个时钟周期可以完成1条指令，那么该计算机1s之内就可以运行2.1\times 10^92.1×109条指令。

- 空间限制：**计算机内存的大小是有限制的**。 所以，衡量算法内存消耗的一个重要指标是**空间复杂度**。

  > 例如，一个二维数组`int a[5000][5000]`所耗内存为：
  >
  > 5000 \times 5000 \times 4 \div 1024 \div 1024 \approx 95\text{ MB}5000×5000×4÷1024÷1024≈95 MB

- 另外，在一些更有针对性的场景（如机器学习场景），在算法开发中，可能有更具体的需求，所以就需要设计更具体的指标（例如机器学习中的**准确率**、**精确率**和**召回率**等）。